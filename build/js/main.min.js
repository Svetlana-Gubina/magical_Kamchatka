"use strict";!function(){const e=document.querySelector(".main-nav__toggle"),t=document.querySelector(".main-nav__list"),i=i=>{i.matches?(t.classList.add("visually-hidden"),e.classList.remove("visually-hidden")):(t.classList.remove("visually-hidden"),e.classList.add("visually-hidden"))},n=window.matchMedia("(max-width:"+"1024px".toString());n.addListener(i),i(n),e.addEventListener("click",(function(e){e.preventDefault(),this.classList.toggle("main-nav__toggle-close"),t.classList.toggle("visually-hidden")}))}(),function(){const e=document.querySelector(".slider__slide-cancel"),t=document.querySelector(".gallery__list"),i=document.querySelector(".slider"),n=document.querySelectorAll(".gallery__thumbnail"),s=document.querySelector(".slider__preview"),l=document.querySelector(".slider__cancel"),c=document.querySelector(".slider__count-num"),d=document.querySelector(".slider__count-total");e.addEventListener("click",(function(e){e.preventDefault(),this.closest(".slider__slide-title").classList.add("hidden")}));const r=new class{constructor(e){this._element=null,this._slides=e,this._slidesMarkup=(e=>Array.from(e).map(e=>'\n    <div>\n    <img src="img/'.concat(e.dataset.number,'.jpg" width="480" height="391" alt="Ducks">\n    </div>').trim()).join(""))(this._slides)}getTemplate(){return"".concat(this._slidesMarkup)}getElement(){return this._element||(this._element=((e,t)=>{const i=document.createElement("div");return i.innerHTML=e,i.classList.add(t),i})(this.getTemplate(),"slick")),this._element}removeElement(){return this._element&&(this._element=null),this._element}show(){this._element&&this._element.classList.remove("hidden")}hide(){this._element&&this._element.classList.add("hidden")}}(n),o=function(){var e;i.classList.add("hidden"),(e=r).getElement().remove(),e.removeElement(),$(".slick").slick("unslick")},a=e=>{"Escape"===e.key&&o()},u=e=>{let t=e.target,u=Number(t.dataset.number)-1;i.classList.remove("hidden"),s.prepend(r.getElement()),c.textContent=u+1,d.textContent=n.length,$(document).ready((function(){$(".slick").on("init",(function(){})),$(".slick").slick({initialSlide:u,prevArrow:$(".slider__previous"),nextArrow:$(".slider__next"),infinite:!1,speed:500,slidesToShow:1,adaptiveHeight:!0}),$(".slick").on("afterChange",(function(){const e=$(".slick").slick("slickCurrentSlide");c.textContent=e+1})),$(".slick").on("click",(function(){$(".slick").slick("slickNext")}))})),document.addEventListener("keydown",a),l.addEventListener("click",o),i.classList.contains("hidden")&&(l.removeEventListener("click",hideBigPicture),document.removeEventListener("keydown",a))};t.addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("gallery__thumbnail")&&u(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidG9nZ2xlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImhhbmRsZUJyZWFja3BvaW50Q2hhbmdlIiwiZXZlbnQiLCJtYXRjaGVzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwibWVkaWFRdWVyeUxpc3QiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwidG9TdHJpbmciLCJhZGRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJ0aXRsZUNhbmNlbCIsImdhbGxlcnlMaXN0Iiwic2xpZGVyIiwic2xpZGVzIiwicXVlcnlTZWxlY3RvckFsbCIsInByZXZpZXciLCJzbGlkZXJDYW5jZWwiLCJzbGlkZXJDb3VudE51bSIsInNsaWRlckNvdW50VG90YWwiLCJjbG9zZXN0Iiwic2xpZGVyRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiX2VsZW1lbnQiLCJfc2xpZGVzIiwiX3NsaWRlc01hcmt1cCIsIkFycmF5IiwiZnJvbSIsIm1hcCIsInNsaWRlIiwiY29uY2F0IiwiZGF0YXNldCIsIm51bWJlciIsInRyaW0iLCJqb2luIiwiY3JlYXRlU2xpZGVzTWFya3VwIiwiZ2V0VGVtcGxhdGUiLCJnZXRFbGVtZW50IiwidGVtcGxhdGUiLCJjbGFzc05hbWUiLCJuZXdFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInJlbW92ZUVsZW1lbnQiLCJzaG93IiwiaGlkZSIsImhpZGVTbGlkZXIiLCJjb21wb25lbnQiLCIkIiwic2xpY2siLCJvbkVzY1ByZXNzU2xpZGVyQ2xvc2UiLCJrZXkiLCJwaWN0dXJlQ2xpY2tIYW5kbGVyIiwicGljdHVyZSIsInRhcmdldCIsIm51bSIsIk51bWJlciIsInByZXBlbmQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInJlYWR5Iiwib24iLCJpbml0aWFsU2xpZGUiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJpbmZpbml0ZSIsInNwZWVkIiwic2xpZGVzVG9TaG93IiwiYWRhcHRpdmVIZWlnaHQiLCJjdXJyZW50U2xpZGUiLCJjb250YWlucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoaWRlQmlnUGljdHVyZSJdLCJtYXBwaW5ncyI6IkFBQUEsY0FDQSxXQUNBLE1BSU1BLEVBQVNDLFNBQVNDLGNBQWMscUJBQ2hDQyxFQUFPRixTQUFTQyxjQUFjLG1CQUU5QkUsRUFBMkJDLElBQzNCQSxFQUFNQyxTQUNSSCxFQUFLSSxVQUFVQyxJQUFJLG1CQUNuQlIsRUFBT08sVUFBVUUsT0FBTyxxQkFFeEJOLEVBQUtJLFVBQVVFLE9BQU8sbUJBQ3RCVCxFQUFPTyxVQUFVQyxJQUFJLHFCQUluQkUsRUFBaUJDLE9BQU9DLFdBQVcsY0FoQi9CLFNBZ0JrRUMsWUFDNUVILEVBQWVJLFlBQVlWLEdBQzNCQSxFQUF3Qk0sR0FFeEJWLEVBQU9lLGlCQUFpQixTQUFTLFNBQVNDLEdBQ3hDQSxFQUFJQyxpQkFDSkMsS0FBS1gsVUFBVVAsT0FBTywwQkFDdEJHLEVBQUtJLFVBQVVQLE9BQU8sc0JBekJ4QixHQThCQSxXQUNFLE1BQ01tQixFQUFjbEIsU0FBU0MsY0FBYyx5QkFDckNrQixFQUFjbkIsU0FBU0MsY0FBYyxrQkFDckNtQixFQUFTcEIsU0FBU0MsY0FBYyxXQUNoQ29CLEVBQVNyQixTQUFTc0IsaUJBQWlCLHVCQUNuQ0MsRUFBVXZCLFNBQVNDLGNBQWMsb0JBQ2pDdUIsRUFBZXhCLFNBQVNDLGNBQWMsbUJBQ3RDd0IsRUFBaUJ6QixTQUFTQyxjQUFjLHNCQUN4Q3lCLEVBQW1CMUIsU0FBU0MsY0FBYyx3QkF1QmhEaUIsRUFBWUosaUJBQWlCLFNBQVMsU0FBU0MsR0FDN0NBLEVBQUlDLGlCQUNKQyxLQUFLVSxRQUFRLHdCQUF3QnJCLFVBQVVDLElBQUksYUEwQ3JELE1BQU1xQixFQUFnQixJQXRDdEIsTUFDRUMsWUFBWVIsR0FDVkosS0FBS2EsU0FBVyxLQUNoQmIsS0FBS2MsUUFBVVYsRUFDZkosS0FBS2UsY0FuQm1CWCxDQUFBQSxHQUNuQlksTUFBTUMsS0FBS2IsR0FBUWMsSUFBS0MsR0FBVyxrQ0FBQUMsT0FFMUJELEVBQU1FLFFBQVFDLE9BRlksMkRBSXpDQyxRQUFTQyxLQUpILElBa0JnQkMsQ0FBbUJ6QixLQUFLYyxTQUcvQ1ksY0FDRSxNQUFBLEdBQUFOLE9BQVVwQixLQUFLZSxlQUdqQlksYUFJRSxPQUhLM0IsS0FBS2EsV0FDUmIsS0FBS2EsU0F4Q1csRUFBQ2UsRUFBVUMsS0FDL0IsTUFBTUMsRUFBYS9DLFNBQVNnRCxjQUFULE9BR25CLE9BRkFELEVBQVdFLFVBQVlKLEVBQ3ZCRSxFQUFXekMsVUFBVUMsSUFBSXVDLEdBQ2xCQyxHQW9DYUMsQ0FBYy9CLEtBQUswQixjQUFlLFVBRTdDMUIsS0FBS2EsU0FHZG9CLGdCQUlFLE9BSElqQyxLQUFLYSxXQUNQYixLQUFLYSxTQUFXLE1BRVhiLEtBQUthLFNBR2RxQixPQUNNbEMsS0FBS2EsVUFDUGIsS0FBS2EsU0FBU3hCLFVBQVVFLE9BaEVULFVBb0VuQjRDLE9BQ01uQyxLQUFLYSxVQUNQYixLQUFLYSxTQUFTeEIsVUFBVUMsSUF0RVQsWUEyRW1CYyxHQU9sQ2dDLEVBQWEsV0FqRUhDLElBQUFBLEVBa0VkbEMsRUFBT2QsVUFBVUMsSUFBSSxXQWxFUCtDLEVBbUVQMUIsR0FsRUdnQixhQUFhcEMsU0FDdkI4QyxFQUFVSixnQkFrRVZLLEVBQUUsVUFBVUMsTUFBTSxZQUdkQyxFQUF5QjFDLElBQ2IsV0FBWkEsRUFBSTJDLEtBQ05MLEtBTUVNLEVBQXVCNUMsSUFDM0IsSUFBSTZDLEVBQVU3QyxFQUFJOEMsT0FDZEMsRUFBTUMsT0FBT0gsRUFBUXRCLFFBQVFDLFFBQVUsRUFwQjNDbkIsRUFBT2QsVUFBVUUsT0FBTyxVQUN4QmUsRUFBUXlDLFFBQVFwQyxFQUFjZ0IsY0FzQjlCbkIsRUFBZXdDLFlBQWNILEVBQU0sRUFDbkNwQyxFQUFpQnVDLFlBQWM1QyxFQUFPNkMsT0FFdENYLEVBQUV2RCxVQUFVbUUsT0FBTSxXQUNoQlosRUFBRSxVQUFVYSxHQUFHLFFBQVEsZUFJdkJiLEVBQUUsVUFBVUMsTUFBTSxDQUNoQmEsYUFBY1AsRUFDZFEsVUFBV2YsRUFBRSxxQkFDYmdCLFVBQVdoQixFQUFFLGlCQUNiaUIsVUFBVSxFQUNWQyxNQUFPLElBQ1BDLGFBQWMsRUFDZEMsZ0JBQWdCLElBSWxCcEIsRUFBRSxVQUFVYSxHQUFHLGVBQWUsV0FDNUIsTUFBTVEsRUFBZXJCLEVBQUUsVUFBVUMsTUFBTSxxQkFDdkMvQixFQUFld0MsWUFBY1csRUFBZSxLQUc5Q3JCLEVBQUUsVUFBVWEsR0FBRyxTQUFTLFdBQ3RCYixFQUFFLFVBQVVDLE1BQU0sbUJBSXRCeEQsU0FBU2MsaUJBQWlCLFVBQVcyQyxHQUNyQ2pDLEVBQWFWLGlCQUFpQixRQUFTdUMsR0FFbkNqQyxFQUFPZCxVQUFVdUUsU0FySUYsWUFzSWpCckQsRUFBYXNELG9CQUFvQixRQUFTQyxnQkFDMUMvRSxTQUFTOEUsb0JBQW9CLFVBQVdyQixLQUs1Q3RDLEVBQVlMLGlCQUFpQixTQUFTLFNBQVVDLEdBQzlDQSxFQUFJQyxpQkFDUUQsRUFBSThDLE9BQ052RCxVQUFVdUUsU0FBUyx1QkFDN0JsQixFQUFvQjVDLE1Bakp4QiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuKGZ1bmN0aW9uKCl7XG5jb25zdCBCUkVBS1BPSU5UUyA9IHtcbiAgdGFibGV0OiAnMTAyNHB4J1xufTtcblxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLW5hdl9fdG9nZ2xlXCIpO1xuY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1uYXZfX2xpc3RcIik7XG5cbmNvbnN0IGhhbmRsZUJyZWFja3BvaW50Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gIGlmIChldmVudC5tYXRjaGVzKSB7XG4gICAgbWVudS5jbGFzc0xpc3QuYWRkKFwidmlzdWFsbHktaGlkZGVuXCIpO1xuICAgIHRvZ2dsZS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzdWFsbHktaGlkZGVuXCIpO1xuICB9IGVsc2Uge1xuICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZShcInZpc3VhbGx5LWhpZGRlblwiKTtcbiAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZChcInZpc3VhbGx5LWhpZGRlblwiKTtcbiAgfVxufTtcblxuY29uc3QgbWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDonICsgQlJFQUtQT0lOVFMudGFibGV0LnRvU3RyaW5nKCkgKyAnJyk7XG5tZWRpYVF1ZXJ5TGlzdC5hZGRMaXN0ZW5lcihoYW5kbGVCcmVhY2twb2ludENoYW5nZSk7XG5oYW5kbGVCcmVhY2twb2ludENoYW5nZShtZWRpYVF1ZXJ5TGlzdCk7XG5cbnRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJtYWluLW5hdl9fdG9nZ2xlLWNsb3NlXCIpO1xuICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJ2aXN1YWxseS1oaWRkZW5cIik7XG59KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCl7XG4gIGNvbnN0IEhJRERFTl9DTEFTUyA9ICdoaWRkZW4nO1xuICBjb25zdCB0aXRsZUNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX3NsaWRlLWNhbmNlbCcpO1xuICBjb25zdCBnYWxsZXJ5TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saXN0Jyk7XG4gIGNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyXCIpO1xuICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FsbGVyeV9fdGh1bWJuYWlsJyk7XG4gIGNvbnN0IHByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19wcmV2aWV3Jyk7XG4gIGNvbnN0IHNsaWRlckNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX19jYW5jZWxcIik7XG4gIGNvbnN0IHNsaWRlckNvdW50TnVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX2NvdW50LW51bVwiKTtcbiAgY29uc3Qgc2xpZGVyQ291bnRUb3RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2NvdW50LXRvdGFsJyk7XG5cbiAgY29uc3QgY3JlYXRlRWxlbWVudCA9ICh0ZW1wbGF0ZSwgY2xhc3NOYW1lKSA9PiB7XG4gICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xuICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgbmV3RWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlID0gKGNvbXBvbmVudCkgPT4ge1xuICAgIGNvbXBvbmVudC5nZXRFbGVtZW50KCkucmVtb3ZlKCk7XG4gICAgY29tcG9uZW50LnJlbW92ZUVsZW1lbnQoKTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVTbGlkZXNNYXJrdXAgPSAoc2xpZGVzKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc2xpZGVzKS5tYXAoKHNsaWRlKSA9PiAoYFxuICAgIDxkaXY+XG4gICAgPGltZyBzcmM9XCJpbWcvJHtzbGlkZS5kYXRhc2V0Lm51bWJlcn0uanBnXCIgd2lkdGg9XCI0ODBcIiBoZWlnaHQ9XCIzOTFcIiBhbHQ9XCJEdWNrc1wiPlxuICAgIDwvZGl2PmBcbiAgICAudHJpbSgpKSkuam9pbihgYCk7XG4gIH07XG5cblxuICB0aXRsZUNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuY2xvc2VzdCgnLnNsaWRlcl9fc2xpZGUtdGl0bGUnKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfSk7XG5cblxuICBjbGFzcyBTbGlkZXJFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihzbGlkZXMpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgdGhpcy5fc2xpZGVzID0gc2xpZGVzO1xuICAgICAgdGhpcy5fc2xpZGVzTWFya3VwID0gY3JlYXRlU2xpZGVzTWFya3VwKHRoaXMuX3NsaWRlcyk7XG4gICAgfVxuXG4gICAgZ2V0VGVtcGxhdGUoKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5fc2xpZGVzTWFya3VwfWA7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgIGlmICghdGhpcy5fZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0aGlzLmdldFRlbXBsYXRlKCksICdzbGljaycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlRWxlbWVudCgpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShISURERU5fQ0xBU1MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICBpZiAodGhpcy5fZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoSElEREVOX0NMQVNTKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBzbGlkZXJFbGVtZW50ID0gbmV3IFNsaWRlckVsZW1lbnQoc2xpZGVzKTtcblxuICBjb25zdCBvcGVuU2xpZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHNsaWRlci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBwcmV2aWV3LnByZXBlbmQoc2xpZGVyRWxlbWVudC5nZXRFbGVtZW50KCkpO1xuICB9O1xuXG4gIGNvbnN0IGhpZGVTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2xpZGVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIHJlbW92ZShzbGlkZXJFbGVtZW50KTtcbiAgICAkKCcuc2xpY2snKS5zbGljaygndW5zbGljaycpO1xuICB9O1xuXG4gIGNvbnN0IG9uRXNjUHJlc3NTbGlkZXJDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGhpZGVTbGlkZXIoKTtcbiAgICB9XG4gIH07XG5cblxuXG4gIGNvbnN0IHBpY3R1cmVDbGlja0hhbmRsZXIgPSAoZXZ0KSA9PiB7XG4gICAgbGV0IHBpY3R1cmUgPSBldnQudGFyZ2V0O1xuICAgIGxldCBudW0gPSBOdW1iZXIocGljdHVyZS5kYXRhc2V0Lm51bWJlcikgLSAxO1xuICAgIG9wZW5TbGlkZXIoKTtcblxuICAgIHNsaWRlckNvdW50TnVtLnRleHRDb250ZW50ID0gbnVtICsgMTtcbiAgICBzbGlkZXJDb3VudFRvdGFsLnRleHRDb250ZW50ID0gc2xpZGVzLmxlbmd0aDtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAkKCcuc2xpY2snKS5vbignaW5pdCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vIGFkYXB0aXZlSGVpZ2h0XG4gICAgICB9KTtcblxuICAgICAgJCgnLnNsaWNrJykuc2xpY2soe1xuICAgICAgICBpbml0aWFsU2xpZGU6IG51bSxcbiAgICAgICAgcHJldkFycm93OiAkKCcuc2xpZGVyX19wcmV2aW91cycpLFxuICAgICAgICBuZXh0QXJyb3c6ICQoJy5zbGlkZXJfX25leHQnKSxcbiAgICAgICAgaW5maW5pdGU6IGZhbHNlLFxuICAgICAgICBzcGVlZDogNTAwLFxuICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgIGFkYXB0aXZlSGVpZ2h0OiB0cnVlLFxuICAgICAgfSk7XG5cblxuICAgICAgJCgnLnNsaWNrJykub24oJ2FmdGVyQ2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gJCgnLnNsaWNrJykuc2xpY2soJ3NsaWNrQ3VycmVudFNsaWRlJyk7XG4gICAgICAgIHNsaWRlckNvdW50TnVtLnRleHRDb250ZW50ID0gY3VycmVudFNsaWRlICsgMTtcbiAgICAgIH0pO1xuXG4gICAgICAkKCcuc2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAkKCcuc2xpY2snKS5zbGljaygnc2xpY2tOZXh0Jyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbkVzY1ByZXNzU2xpZGVyQ2xvc2UpO1xuICAgIHNsaWRlckNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVTbGlkZXIpO1xuXG4gICAgaWYgKHNsaWRlci5jbGFzc0xpc3QuY29udGFpbnMoSElEREVOX0NMQVNTKSkge1xuICAgICAgc2xpZGVyQ2FuY2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUJpZ1BpY3R1cmUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uRXNjUHJlc3NTbGlkZXJDbG9zZSk7XG4gICAgfVxuICB9O1xuXG5cbiAgZ2FsbGVyeUxpc3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIFx0bGV0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gIFx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJnYWxsZXJ5X190aHVtYm5haWxcIikpIHtcbiAgXHRcdHBpY3R1cmVDbGlja0hhbmRsZXIoZXZ0KTtcbiAgXHR9XG4gIH0pO1xuXG59KSgpO1xuIl19
